schema: '2.0'
stages:
  filter:
    cmd: python src/preprocessing/filter_sparse.py
    deps:
    - path: processed_data/clean/ratings_clean.csv
      hash: md5
      md5: 19436373490fec8b125cbf81b2541fbb
      size: 653260891
    - path: src/preprocessing/filter_sparse.py
      hash: md5
      md5: 4575f155dedc6e3fe31068f5b6621d53
      size: 1303
    outs:
    - path: processed_data/filtered/ratings_filtered.csv
      hash: md5
      md5: bc9042aebc7650b02bd6a38fe35d2086
      size: 650181717
  encode:
    cmd: python src/preprocessing/encoding.py
    deps:
    - path: processed_data/filtered/ratings_filtered.csv
      hash: md5
      md5: bc9042aebc7650b02bd6a38fe35d2086
      size: 650181717
    - path: src/preprocessing/encoding.py
      hash: md5
      md5: d3a5bdfd1b10e184f164b478bfc83d7a
      size: 5862
    outs:
    - path: processed_data/encoded/movie2index.json
      hash: md5
      md5: e6469491f78709940432db88e30f0ccf
      size: 377262
    - path: processed_data/encoded/ratings_encoded.csv
      hash: md5
      md5: 04656cb9dcaf6c6a25f9b5ffbd3167d2
      size: 930428322
    - path: processed_data/encoded/user2index.json
      hash: md5
      md5: 5a00c6ebdb76754cf485ff6cf16a00fc
      size: 2703523
  build_matrix:
    cmd: python src/preprocessing/build_matrix.py
    deps:
    - path: processed_data/encoded/ratings_encoded.csv
      hash: md5
      md5: 04656cb9dcaf6c6a25f9b5ffbd3167d2
      size: 930428322
    - path: src/preprocessing/build_matrix.py
      hash: md5
      md5: dd64e8e5ecc9ca50fd9ee15b3ab8c279
      size: 8983
    outs:
    - path: processed_data/matrix/user_item_matrix.npz
      hash: md5
      md5: 585cb694687fdbe3261e7eea971bb30d
      size: 54270151
